{% extends "base.html" %}
{% block title %}My Tasks{% endblock %}
{% block content %}
    <h1 class="mb-4">My Tasks</h1>
    <div class="list-group">
        {% for task in tasks %}
            <a href="{% url 'tasks:task_detail' task.id %}" class="list-group-item list-group-item-action">
                <div class="d-flex justify-content-between">
                    <h5 class="mb-1">{{ task.title }}</h5>
                    <small>{{ task.get_status_display }}</small>
                </div>
                <p class="mb-1">{{ task.description|truncatewords:20 }}</p>
                <small>Created: {{ task.created_at|date:"M d, Y" }}</small>
            </a>
        {% endfor %}
    </div>
    <nav class="mt-4">
        <ul class="pagination">
            {% if tasks.has_previous %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ tasks.previous_page_number }}">Previous</a>
                </li>
            {% endif %}
            <li class="page-item active">
                <span class="page-link">{{ tasks.number }}</span>
            </li>
            {% if tasks.has_next %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ tasks.next_page_number }}">Next</a>
                </li>
            {% endif %}
        </ul>
    </nav>
{% endblock %}
